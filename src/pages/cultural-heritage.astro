---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import Card from "@components/card.astro";
import { calculateReadingTime } from "../utils/helpers";
import Meta from "../components/meta.astro";

const posts = await getCollection("posts", ({ data }) => {
    return data.category.includes("Cultural Heritage");
});
---

<Layout title="Blogs">
    <Meta slot="meta" title="Blogs" image="test" />
    <div class="flex flex-col gap-8 px-4 mt-2">
        <div class="flex flex-col items-center">
            <h1 class="text-3xl font-bold">Cultural Heritage</h1>
        </div>
        <div class="flex flex-wrap gap-8 justify-start items-center">
            {
                posts.map(({ body, data, slug }) => {
                    return (
                        <Card
                            loading="eager"
                            link={`/blogs/${slug}`}
                            data={data}
                            readingTime={calculateReadingTime(body)}
                        />
                    );
                })
            }
        </div>
    </div>
</Layout>
