---
import type { InferEntrySchema } from "astro:content";
import Info from "./blog/info.astro";
import { Image } from "astro:assets";

export interface Props {
    data: any;
    link: string;
    readingTime: string;
    loading: "eager" | "lazy";
}

const { data, link, readingTime, loading } = Astro.props;
const { cover, coverAlt, title, description, pubDate } = data;
---

<a
    href={link}
    class="lg:w-[320px] max-h-96 shadow-md flex flex-col items-center justify-center rounded-md gap-2 overflow-hidden bg-white"
>
    <div class="w-full max-h-52 min-h-52 flex flex-col">
        <Image
            decoding="async"
            src={cover.src}
            alt={coverAlt}
            class="h-full w-full max-h-52 min-h-52 flex object-cover"
            loading={loading}
            height={500}
            width={500}
        />
    </div>

    <div class="w-full px-2 flex flex-col gap-2 my-1 h-60 justify-between">
        <h3 class="font-bold text-lg line-clamp-2 min-h-14 max-h-14">
            {title}
        </h3>
        <p class="min-h-16 max-h-16 line-clamp-3 text-gray-500 text-sm">
            {description}
        </p>
        <div class="py-1">
            <Info pubDate={pubDate} readingTime={readingTime} />
        </div>
    </div>
</a>
